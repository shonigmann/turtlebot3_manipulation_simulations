<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from turtlebot3_pi_manipulator.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="turtlebot3_manipulator">
  <material name="black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.5 0.5 0.5 1.0"/>
  </material>
  <!--  Begin Model Description  -->
  <link name="base_footprint"/>
  <link name="base_link">
    <visual>
      <origin rpy="0 0 0" xyz="-0.064 0 0.0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/turtlebot3_description/share/turtlebot3_description/meshes/bases/waffle_pi_base.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="light_black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.064 0 0.047"/>
      <geometry>
        <box size="0.266 0.266 0.094"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1.3729096e+00"/>
      <inertia ixx="8.7002718e-03" ixy="-4.7576583e-05" ixz="1.1160499e-04" iyy="8.6195418e-03" iyz="-3.5422299e-06" izz="1.4612727e-02"/>
    </inertial>
  </link>
  <joint name="base_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.010"/>
  </joint>
  <link name="wheel_left_link">
    <visual>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/turtlebot3_description/share/turtlebot3_description/meshes/wheels/left_tire.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.018" radius="0.033"/>
        <!-- Probably not supported by URDF... Will OMIT FOR NOW. TODO- REVISIT -->
        <!--        <xacro:if value="$(arg gazebo)">-->
        <!--          <surface>-->
        <!-- This friction pamareter don't contain reliable data!! -->
        <!--
            <friction>
              <ode>
                <mu>100000.0</mu>
                <mu2>100000.0</mu2>
                <fdir1>0 0 0</fdir1>
                <slip1>0.0</slip1>
                <slip2>0.0</slip2>
              </ode>
            </friction>
            <contact>
              <ode>
                <soft_cfm>0</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1e+5</kp>
                <kd>1</kd>
                <max_vel>0.01</max_vel>
                <min_depth>0.001</min_depth>
              </ode>
            </contact>
          </surface>
        </xacro:if> -->
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="2.8498940e-02"/>
      <inertia ixx="1.1175580e-05" ixy="-4.2369783e-11" ixz="-5.9381719e-09" iyy="1.1192413e-05" iyz="-1.4400107e-11" izz="2.0712558e-05"/>
    </inertial>
  </link>
  <joint name="wheel_left_joint" type="continuous">
    <parent link="base_link"/>
    <child link="wheel_left_link"/>
    <origin rpy="-1.57 0 0" xyz="0.0 0.144 0.023"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.2" friction="0.5"/>
  </joint>
  <link name="wheel_right_link">
    <visual>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/turtlebot3_description/share/turtlebot3_description/meshes/wheels/right_tire.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.018" radius="0.033"/>
        <!-- Probably not supported by URDF... Will OMIT FOR NOW. TODO- REVISIT -->
        <!--        <xacro:if value="$(arg gazebo)">-->
        <!--          <surface>-->
        <!-- This friction pamareter don't contain reliable data!! -->
        <!--
            <friction>
              <ode>
                <mu>100000.0</mu>
                <mu2>100000.0</mu2>
                <fdir1>0 0 0</fdir1>
                <slip1>0.0</slip1>
                <slip2>0.0</slip2>
              </ode>
            </friction>
            <contact>
              <ode>
                <soft_cfm>0</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1e+5</kp>
                <kd>1</kd>
                <max_vel>0.01</max_vel>
                <min_depth>0.001</min_depth>
              </ode>
            </contact>
          </surface>
        </xacro:if> -->
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="2.8498940e-02"/>
      <inertia ixx="1.1175580e-05" ixy="-4.2369783e-11" ixz="-5.9381719e-09" iyy="1.1192413e-05" iyz="-1.4400107e-11" izz="2.0712558e-05"/>
    </inertial>
  </link>
  <joint name="wheel_right_joint" type="continuous">
    <parent link="base_link"/>
    <child link="wheel_right_link"/>
    <origin rpy="-1.57 0 0" xyz="0.0 -0.144 0.023"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.2" friction="0.5"/>
  </joint>
  <link name="caster_back_right_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.005"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.005"/>
        <!--
        TODO- Consider adding to gazebo version
        <surface>
          <contact>
            <ode>
              <soft_cfm>0</soft_cfm>
              <soft_erp>0.2</soft_erp>
              <kp>1e+5</kp>
              <kd>1</kd>
              <max_vel>0.01</max_vel>
              <min_depth>0.001</min_depth>
            </ode>
          </contact>
        </surface>
        -->
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.005"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <!-- Represent ball joint by 2 additional links and joints   -->
  <link name="caster_back_right_link_proxy1">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.005"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <link name="caster_back_right_link_proxy2">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.005"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <joint name="caster_back_right_joint_x" type="continuous">
    <parent link="base_link"/>
    <child link="caster_back_right_link_proxy1"/>
    <origin rpy="-1.57 0 0" xyz="-0.177 -0.064 -0.005"/>
    <axis xyz="1 0 0"/>
    <dynamics damping="0.1" friction="0.2"/>
  </joint>
  <joint name="caster_back_right_joint_y" type="continuous">
    <parent link="caster_back_right_link_proxy1"/>
    <child link="caster_back_right_link_proxy2"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="0.1" friction="0.2"/>
  </joint>
  <joint name="caster_back_right_joint_z" type="continuous">
    <parent link="caster_back_right_link_proxy2"/>
    <child link="caster_back_right_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0.2"/>
  </joint>
  <link name="caster_back_left_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.005"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <!--        <box size="0.030 0.009 0.020"/>-->
        <sphere radius="0.005"/>
        <!--
        TODO- Consider adding to gazebo version
        <surface>
          <contact>
            <ode>
              <soft_cfm>0</soft_cfm>
              <soft_erp>0.2</soft_erp>
              <kp>1e+5</kp>
              <kd>1</kd>
              <max_vel>0.01</max_vel>
              <min_depth>0.001</min_depth>
            </ode>
          </contact>
        </surface>
        -->
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.005"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <!-- Represent ball joint by 2 additional links and joints   -->
  <link name="caster_back_left_link_proxy1">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.005"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <link name="caster_back_left_link_proxy2">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.005"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <joint name="caster_back_left_joint_x" type="continuous">
    <parent link="base_link"/>
    <child link="caster_back_left_link_proxy1"/>
    <origin rpy="-1.57 0 0" xyz="-0.177 0.064 -0.005"/>
    <axis xyz="1 0 0"/>
    <dynamics damping="0.1" friction="0.2"/>
  </joint>
  <joint name="caster_back_left_joint_y" type="continuous">
    <parent link="caster_back_left_link_proxy1"/>
    <child link="caster_back_left_link_proxy2"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="0.1" friction="0.2"/>
  </joint>
  <joint name="caster_back_left_joint_z" type="continuous">
    <parent link="caster_back_left_link_proxy2"/>
    <child link="caster_back_left_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0.2"/>
  </joint>
  <link name="imu_link"/>
  <joint name="imu_joint" type="fixed">
    <parent link="base_link"/>
    <child link="imu_link"/>
    <origin rpy="0 0 0" xyz="0.0 0 0.068"/>
  </joint>
  <link name="base_scan">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/turtlebot3_description/share/turtlebot3_description/meshes/sensors/lds.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="dark"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.015 0 -0.0065"/>
      <geometry>
        <cylinder length="0.0315" radius="0.055"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.114"/>
      <origin xyz="-0.052 0 0.111"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <joint name="scan_joint" type="fixed">
    <parent link="base_link"/>
    <child link="base_scan"/>
    <origin rpy="0 0 0" xyz="-0.025 0 0.122"/>
  </joint>
  <link name="camera_link">
    <inertial>
      <mass value="0.035"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0.005 0.011 0.013"/>
      <geometry>
        <box size="0.015 0.030 0.027"/>
      </geometry>
    </collision>
  </link>
  <link name="camera_rgb_optical_frame">
    <inertial>
      <mass value="0.035"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <joint name="camera_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.073 -0.011 0.084"/>
    <axis xyz="0 0 1"/>
    <parent link="base_link"/>
    <child link="camera_link"/>
  </joint>
  <!--  <joint name="camera_rgb_joint" type="fixed">-->
  <!--    <origin xyz="0.003 0.011 0.009" rpy="0 0 0"/>-->
  <!--    <parent link="camera_link"/>-->
  <!--    <child link="camera_rgb_frame"/>-->
  <!--  </joint>-->
  <!--  <link name="camera_rgb_frame"/>-->
  <joint name="camera_rgb_optical_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.003 0.011 0.009"/>
    <parent link="camera_link"/>
    <child link="camera_rgb_optical_frame"/>
  </joint>
  <gazebo reference="base_link">
    <material>Gazebo/DarkGrey</material>
    <!--      <kp>10000.0</kp>-->
    <!-- for whatever reason setting kp and kd causes issues with the laser scan -->
    <!--      <kd>1000.0</kd>-->
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <minDepth>0.002</minDepth>
    <maxVel>10.0</maxVel>
  </gazebo>
  <gazebo reference="wheel_right_link">
    <material>Gazebo/FlatBlack</material>
    <!--      <kp>10000.0</kp>-->
    <!--      <kd>1000.0</kd>-->
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <minDepth>0.002</minDepth>
    <maxVel>10.0</maxVel>
  </gazebo>
  <gazebo reference="wheel_left_link">
    <material>Gazebo/FlatBlack</material>
    <!--      <kp>10000.0</kp>-->
    <!--      <kd>1000.0</kd>-->
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <minDepth>0.002</minDepth>
    <maxVel>10.0</maxVel>
  </gazebo>
  <gazebo reference="base_scan">
    <material>Gazebo/FlatBlack</material>
    <sensor name="hls_lfcd_lds" type="ray">
      <always_on>true</always_on>
      <visualize>true</visualize>
      <pose>0 0 0 0 0 0</pose>
      <!--        <pose>-1.064 0 0.121 0 0 0</pose>-->
      <update_rate>5</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>300</samples>
            <resolution>1.000000</resolution>
            <min_angle>-2.617993</min_angle>
            <max_angle>2.617993</max_angle>
            <!--              <min_angle>0.000000</min_angle>-->
            <!--              <max_angle>6.283180</max_angle>-->
          </horizontal>
        </scan>
        <range>
          <min>0.120000</min>
          <max>3.5</max>
          <!--            originally 0.12 to 3.5-->
          <resolution>0.15000</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_ray_sensor.so" name="turtlebot3_laserscan">
        <ros>
          <!-- <namespace>/tb3</namespace> -->
          <remapping>~/out:=scan</remapping>
        </ros>
        <output_type>sensor_msgs/LaserScan</output_type>
        <frame_name>base_scan</frame_name>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="camera_rgb_optical_frame">
    <sensor name="camera" type="camera">
      <always_on>true</always_on>
      <visualize>true</visualize>
      <update_rate>30</update_rate>
      <camera name="picam">
        <horizontal_fov>1.085595</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
        </image>
        <clip>
          <near>0.03</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <!-- Noise is sampled independently per pixel on each frame.
                  That pixel's noise value is added to each of its color
                  channels, which at that point lie in the range [0,1]. -->
          <mean>0.0</mean>
          <stddev>0.007</stddev>
        </noise>
      </camera>
      <plugin filename="libgazebo_ros_camera.so" name="camera_driver">
        <ros>
          <!-- <namespace>test_cam</namespace> -->
          <!-- <remapping>image_raw:=image_demo</remapping> -->
          <!-- <remapping>camera_info:=camera_info_demo</remapping> -->
        </ros>
        <!-- camera_name>omit so it defaults to sensor name</camera_name-->
        <!-- frame_name>omit so it defaults to link name</frameName-->
        <!-- <hack_baseline>0.07</hack_baseline> -->
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="imu_link">
    <sensor name="tb3_imu" type="imu">
      <always_on>true</always_on>
      <update_rate>200</update_rate>
      <imu>
        <angular_velocity>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
            </noise>
          </z>
        </angular_velocity>
        <linear_acceleration>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
            </noise>
          </z>
        </linear_acceleration>
      </imu>
      <plugin filename="libgazebo_ros_imu_sensor.so" name="turtlebot3_imu">
        <ros>
          <!-- <namespace>/tb3</namespace> -->
          <remapping>~/out:=imu</remapping>
        </ros>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="turtlebot3_diff_drive">
      <ros>
        <!-- <namespace>/tb3</namespace> -->
      </ros>
      <update_rate>30</update_rate>
      <!-- wheels -->
      <left_joint>wheel_left_joint</left_joint>
      <right_joint>wheel_right_joint</right_joint>
      <!-- kinematics -->
      <wheel_separation>0.287</wheel_separation>
      <wheel_diameter>0.066</wheel_diameter>
      <!-- limits -->
      <max_wheel_torque>20</max_wheel_torque>
      <max_wheel_acceleration>1.0</max_wheel_acceleration>
      <command_topic>cmd_vel</command_topic>
      <!-- output -->
      <publish_odom>true</publish_odom>
      <publish_odom_tf>true</publish_odom_tf>
      <publish_wheel_tf>false</publish_wheel_tf>
      <odometry_topic>odom</odometry_topic>
      <odometry_frame>odom</odometry_frame>
      <robot_base_frame>base_footprint</robot_base_frame>
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_joint_state_publisher.so" name="turtlebot3_joint_state">
      <ros>
        <!-- <namespace>/tb3</namespace> -->
        <remapping>~/out:=joint_states</remapping>
      </ros>
      <update_rate>30</update_rate>
      <joint_name>wheel_left_joint</joint_name>
      <joint_name>wheel_right_joint</joint_name>
    </plugin>
  </gazebo>
  <!-- Link 1 -->
  <link name="link1">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/open_manipulator_x_description/share/open_manipulator_x_description/meshes/chain_link1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <!--      <origin xyz="0 0 0" rpy="0 0 0"/>-->
      <origin rpy="0 0 0" xyz="0 0 0.017"/>
      <geometry>
        <!--        <mesh filename="file://$(find open_manipulator_x_description)/meshes/chain_link1.stl" scale="0.001 0.001 0.001"/>-->
        <box size="0.0465 0.0285 0.034"/>
        <!--        <box size="0.0285 0.0465 0.034"/>-->
      </geometry>
    </collision>
    <inertial>
      <origin xyz="3.0876154e-04 0.0000000e+00 -1.2176461e-04"/>
      <mass value="7.9119962e-02"/>
      <inertia ixx="1.2505234e-05" ixy="0.0" ixz="-1.7855208e-07" iyy="2.1898364e-05" iyz="0.0" izz="1.9267361e-05"/>
    </inertial>
  </link>
  <!--  Link 2 -->
  <link name="link2">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.019"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/open_manipulator_x_description/share/open_manipulator_x_description/meshes/chain_link2.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <!--      <origin xyz="0 0 0.019" rpy="0 0 0"/>-->
      <origin rpy="0 0 0" xyz="0 0 0.05025"/>
      <geometry>
        <!--        <mesh filename="file://$(find open_manipulator_x_description)/meshes/chain_link2.stl" scale="0.001 0.001 0.001"/>-->
        <box size="0.0285 0.034 0.0625"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="-3.0184870e-04 5.4043684e-04 0.047433464e-02"/>
      <mass value="9.8406837e-02"/>
      <inertia ixx="3.4543422e-05" ixy="-1.6031095e-08" ixz="-3.8375155e-07" iyy="3.2689329e-05" iyz="2.8511935e-08" izz="1.8850320e-05"/>
    </inertial>
  </link>
  <!--  Link 3 -->
  <link name="link3">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/open_manipulator_x_description/share/open_manipulator_x_description/meshes/chain_link3.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0018125 0 0.066"/>
      <!--      <origin xyz="0 0 0" rpy="0 0 0"/>-->
      <geometry>
        <!--        <mesh filename="file://$(find open_manipulator_x_description)/meshes/chain_link3.stl" scale="0.001 0.001 0.001"/>-->
        <box size="0.05875 0.052 0.172"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="1.0308393e-02 3.7743363e-04 1.0170197e-01"/>
      <mass value="1.3850917e-01"/>
      <inertia ixx="3.3055381e-04" ixy="-9.7940978e-08" ixz="-3.8505711e-05" iyy="3.4290447e-04" iyz="-1.5717516e-06" izz="6.0346498e-05"/>
    </inertial>
  </link>
  <!--  Link 4 -->
  <link name="link4">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/open_manipulator_x_description/share/open_manipulator_x_description/meshes/chain_link4.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.06365 0.0 0.0"/>
      <!--      <origin xyz="0 0 0" rpy="0 0 0"/>-->
      <geometry>
        <!--        <mesh filename="file://$(find open_manipulator_x_description)/meshes/chain_link4.stl" scale="0.001 0.001 0.001"/>-->
        <box size="0.1673 0.0526 0.047"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="9.0909590e-02 3.8929816e-04 2.2413279e-04"/>
      <mass value="1.3274562e-01"/>
      <inertia ixx="3.0654178e-05" ixy="-1.2764155e-06" ixz="-2.6874417e-07" iyy="2.4230292e-04" iyz="1.1559550e-08" izz="2.5155057e-04"/>
    </inertial>
  </link>
  <!--  Link 5 -->
  <link name="link5">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/open_manipulator_x_description/share/open_manipulator_x_description/meshes/chain_link5.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0242 0 0.008375"/>
      <!--      <origin xyz="0 0 0" rpy="0 0 0"/>-->
      <geometry>
        <!--        <mesh filename="file://$(find open_manipulator_x_description)/meshes/chain_link5.stl" scale="0.001 0.001 0.001"/>   -->
        <box size="0.0884 0.1286  0.06275"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="4.4206755e-02 3.6839985e-07 8.9142216e-03"/>
      <mass value="1.4327573e-01"/>
      <inertia ixx="8.0870749e-05" ixy="0.0" ixz="-1.0157896e-06" iyy="7.5980465e-05" iyz="0.0" izz="9.3127351e-05"/>
    </inertial>
  </link>
  <!--  Gripper link -->
  <link name="gripper_link">
    <visual>
      <origin rpy="0 0 0" xyz="0.0 0.0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/open_manipulator_x_description/share/open_manipulator_x_description/meshes/chain_link_grip_l.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <!--      <origin xyz="0.02095 0.00725 0" rpy="0 0 0"/>-->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/open_manipulator_x_description/share/open_manipulator_x_description/meshes/chain_link_grip_l_low_poly.stl" scale="0.001 0.001 0.001"/>
        <!--        <box size="0.0881 0.03975 0.058"/>-->
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="1.0e-03"/>
      <inertia ixx="1.0e-03" ixy="0.0" ixz="0.0" iyy="1.0e-03" iyz="0.0" izz="1.0e-03"/>
    </inertial>
  </link>
  <!--  Gripper link sub -->
  <link name="gripper_link_sub">
    <visual>
      <origin rpy="0 0 0" xyz="0.0 -0.0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/open_manipulator_x_description/share/open_manipulator_x_description/meshes/chain_link_grip_r.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <!--      <origin xyz="0.02095 -0.00725 0" rpy="0 0 0"/>-->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/robo/dev_ws/install/open_manipulator_x_description/share/open_manipulator_x_description/meshes/chain_link_grip_r_low_poly.stl" scale="0.001 0.001 0.001"/>
        <!--        <box size="0.0881 0.03975 0.058"/>-->
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="1.0e-03"/>
      <inertia ixx="1.0e-03" ixy="0.0" ixz="0.0" iyy="1.0e-03" iyz="0.0" izz="1.0e-03"/>
    </inertial>
  </link>
  <!-- end effector link -->
  <link name="end_effector_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
      <material name="red"/>
    </visual>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="1.0e-03"/>
      <inertia ixx="1.0e-03" ixy="0.0" ixz="0.0" iyy="1.0e-03" iyz="0.0" izz="1.0e-03"/>
    </inertial>
  </link>
  <!-- Joint 1 -->
  <joint name="joint1" type="revolute">
    <parent link="link1"/>
    <child link="link2"/>
    <origin rpy="0 0 0" xyz="0.012 0.0 0.017"/>
    <axis xyz="0 0 1"/>
    <limit effort="1" lower="-2.82743338823" upper="2.82743338823" velocity="4.8"/>
    <dynamics damping="0.2" friction="0.5"/>
  </joint>
  <!--  Joint 2 -->
  <joint name="joint2" type="revolute">
    <parent link="link2"/>
    <child link="link3"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.0595"/>
    <axis xyz="0 1 0"/>
    <limit effort="1" lower="-1.79070781255" upper="1.57079632679" velocity="4.8"/>
    <dynamics damping="0.2" friction="0.5"/>
  </joint>
  <!--  Joint 3 -->
  <joint name="joint3" type="revolute">
    <parent link="link3"/>
    <child link="link4"/>
    <origin rpy="0 0 0" xyz="0.024 0 0.128"/>
    <axis xyz="0 1 0"/>
    <limit effort="1" lower="-0.94247779607" upper="1.38230076758" velocity="4.8"/>
    <dynamics damping="0.2" friction="0.5"/>
  </joint>
  <!--  Joint 4 -->
  <joint name="joint4" type="revolute">
    <parent link="link4"/>
    <child link="link5"/>
    <origin rpy="0 0 0" xyz="0.124 0.0 0.0"/>
    <axis xyz="0 1 0"/>
    <limit effort="1" lower="-1.79070781255" upper="2.04203522483" velocity="4.8"/>
    <dynamics damping="0.2" friction="0.5"/>
  </joint>
  <!--  Gripper joint -->
  <joint name="gripper" type="prismatic">
    <parent link="link5"/>
    <child link="gripper_link"/>
    <origin rpy="0 0 0" xyz="0.0817 0.021 0.0"/>
    <axis xyz="0 1 0"/>
    <limit effort="1" lower="-0.010" upper="0.019" velocity="4.8"/>
    <dynamics damping="0.2" friction="0.5"/>
  </joint>
  <!--  Gripper joint sub -->
  <joint name="gripper_sub" type="prismatic">
    <parent link="link5"/>
    <child link="gripper_link_sub"/>
    <origin rpy="0 0 0" xyz="0.0817 -0.021 0.0"/>
    <axis xyz="0 -1 0"/>
    <limit effort="1" lower="-0.010" upper="0.019" velocity="4.8"/>
    <dynamics damping="0.2" friction="0.5"/>
  </joint>
  <!-- end effector joint -->
  <joint name="end_effector_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.126 0.0 0.0"/>
    <parent link="link5"/>
    <child link="end_effector_link"/>
  </joint>
  <transmission name="tran1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor1">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tran2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor2">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tran3">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor3">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tran4">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor4">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tran5">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor5">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tran6">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper_sub">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor6">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- World -->
  <gazebo reference="world"/>
  <gazebo reference="link1">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="link2">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="link3">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="link4">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="link5">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="gripper_link">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="gripper_link_sub">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="end_effector_link">
    <material>Gazebo/Red</material>
  </gazebo>
  <ros2_control name="GazeboSystem" type="system">
    <hardware>
      <plugin>gazebo_ros2_control/GazeboSystem</plugin>
    </hardware>
    <joint name="joint1">
      <command_interface name="position">
        <param name="min">-2.82743338823</param>
        <param name="max">2.82743338823</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <!-- It's not clear if this method of transmission definition is currently supported, but it doesn't break anything
    and it is cleaner than other definition styles... postponing this TODO until transmissions are actually needed...
    relevant git issue- https://github.com/ros-controls/ros2_control/issues/291 -->
    <transmission name="joint1_transmission">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="joint1_actuator">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
      <joint name="joint1">
        <offset>0.0</offset>
      </joint>
    </transmission>
    <joint name="joint2">
      <command_interface name="position">
        <param name="min">-1.79070781255</param>
        <param name="max">1.57079632679</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <!-- It's not clear if this method of transmission definition is currently supported, but it doesn't break anything
    and it is cleaner than other definition styles... postponing this TODO until transmissions are actually needed...
    relevant git issue- https://github.com/ros-controls/ros2_control/issues/291 -->
    <transmission name="joint2_transmission">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="joint2_actuator">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
      <joint name="joint2">
        <offset>0.0</offset>
      </joint>
    </transmission>
    <joint name="joint3">
      <command_interface name="position">
        <param name="min">-0.94247779607</param>
        <param name="max">1.38230076758</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <!-- It's not clear if this method of transmission definition is currently supported, but it doesn't break anything
    and it is cleaner than other definition styles... postponing this TODO until transmissions are actually needed...
    relevant git issue- https://github.com/ros-controls/ros2_control/issues/291 -->
    <transmission name="joint3_transmission">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="joint3_actuator">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
      <joint name="joint3">
        <offset>0.0</offset>
      </joint>
    </transmission>
    <joint name="joint4">
      <command_interface name="position">
        <param name="min">-1.79070781255</param>
        <param name="max">2.04203522483</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <!-- It's not clear if this method of transmission definition is currently supported, but it doesn't break anything
    and it is cleaner than other definition styles... postponing this TODO until transmissions are actually needed...
    relevant git issue- https://github.com/ros-controls/ros2_control/issues/291 -->
    <transmission name="joint4_transmission">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="joint4_actuator">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
      <joint name="joint4">
        <offset>0.0</offset>
      </joint>
    </transmission>
    <joint name="gripper">
      <command_interface name="effort">
        <param name="min">-1</param>
        <param name="max">1</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <!-- It's not clear if this method of transmission definition is currently supported, but it doesn't break anything
    and it is cleaner than other definition styles... postponing this TODO until transmissions are actually needed...
    relevant git issue- https://github.com/ros-controls/ros2_control/issues/291 -->
    <transmission name="gripper_transmission">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="gripper_actuator">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
      <joint name="gripper">
        <offset>0.0</offset>
      </joint>
    </transmission>
    <joint name="gripper_sub">
      <command_interface name="effort">
        <param name="min">-1</param>
        <param name="max">1</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <!-- It's not clear if this method of transmission definition is currently supported, but it doesn't break anything
    and it is cleaner than other definition styles... postponing this TODO until transmissions are actually needed...
    relevant git issue- https://github.com/ros-controls/ros2_control/issues/291 -->
    <transmission name="gripper_sub_transmission">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="gripper_sub_actuator">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
      <joint name="gripper_sub">
        <offset>0.0</offset>
      </joint>
    </transmission>
  </ros2_control>
  <!-- TURTLEBOT-OPEN MANIPULATOR JOINT  -->
  <joint name="base_to_link1" type="fixed">
    <origin rpy="0 0 0" xyz="-0.092 0.0 0.091"/>
    <parent link="base_link"/>
    <child link="link1"/>
  </joint>

  <gazebo>
    <disableFixedJointLumping>true</disableFixedJointLumping>
    <preserveFixedJoint>true</preserveFixedJoint>
  </gazebo>
<!--  <gazebo reference="imu_joint">-->
<!--    <disableFixedJointLumping>true</disableFixedJointLumping>-->
<!--    <preserveFixedJoint>true</preserveFixedJoint>-->
<!--  </gazebo>-->
<!--  <gazebo reference="scan_joint">-->
<!--    <disableFixedJointLumping>true</disableFixedJointLumping>-->
<!--    <preserveFixedJoint>true</preserveFixedJoint>-->
<!--  </gazebo>-->
<!--  <gazebo reference="camera_joint">-->
<!--    <disableFixedJointLumping>true</disableFixedJointLumping>-->
<!--    <preserveFixedJoint>true</preserveFixedJoint>-->
<!--  </gazebo>-->
<!--  <gazebo reference="camera_rgb_optical_joint">-->
<!--    <disableFixedJointLumping>true</disableFixedJointLumping>-->
<!--    <preserveFixedJoint>true</preserveFixedJoint>-->
<!--  </gazebo>-->
<!--  <gazebo reference="end_effector_joint">-->
<!--    <disableFixedJointLumping>true</disableFixedJointLumping>-->
<!--    <preserveFixedJoint>true</preserveFixedJoint>-->
<!--  </gazebo>-->
<!--  <gazebo reference="base_to_link1">-->
<!--    <disableFixedJointLumping>true</disableFixedJointLumping>-->
<!--    <preserveFixedJoint>true</preserveFixedJoint>-->
<!--  </gazebo>-->

</robot>
